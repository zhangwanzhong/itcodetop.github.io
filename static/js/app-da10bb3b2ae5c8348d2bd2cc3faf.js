window.onload=function(){var e,t,n=document.body,o=(document.getElementById("mnav"),document.getElementById("main-menu"),document.getElementById("process")),i=document.querySelectorAll(".img-ajax"),c=(document.getElementById("comments-count"),document.getElementById("gitcomment"),document.getElementById("back-to-top")),r=document.getElementById("article-toc"),a=null,l=!0;function d(){return n.scrollTop||document.documentElement.scrollTop}1==/iphone|ios|android|ipod/i.test(navigator.userAgent.toLowerCase())&&"mobile"!=(e=location.search,(t=new RegExp("(?:&|/?)from=([^&$]+)").exec(e))?t[1]:"")&&(l=!1);var m=function(){o&&(o.style.width=d()/(n.scrollHeight-window.innerHeight)*100+"%"),l&&300<=d()?c.removeAttribute("class","hide"):c.setAttribute("class","hide"),function(o){if(o){var e=o.length;if(0<e)for(var i=d()+window.innerHeight,c=0;c<e;c++)!function(e){var t=o[c];if(t.getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop<=i&&t.getAttribute("data-src")&&0<t.getAttribute("data-src").length){if("img"===t.nodeName.toLowerCase())t.src=t.getAttribute("data-src"),t.style.display="block";else{var n=new Image;n.onload=function(){t.innerHTML=""},n.src=t.getAttribute("data-src"),t.style.backgroundImage="url("+t.getAttribute("data-src")+")"}t.removeAttribute("data-src")}}()}}(i)};m(),window.addEventListener("scroll",function(){if(r){var e=r.offsetTop,t=r.offsetLeft,n=r.offsetWidth;d()<=e?r.style="":(r.style.position="fixed",r.style.top="5px",r.style.left=t+"px",r.style.width=n+"px")}clearTimeout(a),a=setTimeout(function(){m()},200)}),c.onclick=function(){cancelAnimationFrame(a),a=requestAnimationFrame(function e(){var t=d();0<t?(n.scrollTop=document.documentElement.scrollTop=t-50,a=requestAnimationFrame(e)):cancelAnimationFrame(a)})}};